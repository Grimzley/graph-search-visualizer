<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="shortcut icon" type="image/png" href="/img/favicon.png">
  <title>Graph Search Visualizer</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://pyscript.net/releases/2024.2.1/core.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6485831732575036"
  crossorigin="anonymous">
  </script>
</head>
<body class="d-flex flex-column min-vh-100">
  <nav class="navbar bg-dark navbar-dark">
    <div class="container-lg">
      <div class="navbar-brand">Graph Search Visualizer</div>
    </div>
  </nav>

  <main class="flex-fill my-5">
    <section>
      <div class="container-lg">
        <div class="row justify-content-center text-center">
          <div class="col">
            <p class="display-6">Selected Algorithm: <strong id="selectedAlgoText">A*</strong></p>
          </div>
        </div>
        <div class="row justify-content-center">
          <div class="col-md-4 col-lg-3 text-center mb-3">
            <div class="btn-group">
              <button id="run" class="btn btn-primary">Run</button>
              <button id="reset" class="btn btn-warning">Reset</button>
              <button id="clear" class="btn btn-danger">Clear</button>
            </div>
          </div>
          <div class="col-md-4 col-lg-3 mb-3">
            <div class="dropdown">
              <button 
                class="btn btn-secondary w-100 dropdown-toggle" 
                type="button" 
                id="dropdownMenuButton" 
                data-bs-toggle="dropdown" 
                aria-expanded="false">
                Select Algorithm
              </button>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">
                <li><button class="dropdown-item" id="astar">A*</button></li>
                <li><button class="dropdown-item" id="greedy">Greedy BFS</button></li>
                <li><button class="dropdown-item" id="bfs">BFS</button></li>
                <li><button class="dropdown-item" id="dfs">DFS</button></li>
                <li><button class="dropdown-item" id="random">Random Walk</button></li>
              </ul>
            </div>
          </div>
          <div class="col-md-4 col-lg-3 d-flex mb-3">
            <div class="form-check form-switch" style="margin: auto;">
              <input id="toggleDiagonal" class="form-check-input" type="checkbox" checked>
              <label for="toggleDiagonal">Diagonal Movement</label>
            </div>
          </div>
        </div>
        <div class="row justify-content-center text-center">
          <div class="col">
            <p id="statText"></p>
          </div>
        </div>
      </div>
    </section>

    <section>
      <div class="container-xl mb-3">
        <div class="row justify-content-center">
          <div class="col-lg-12 col-xl-9">
            <div class="overflow-auto text-center mb-3">
              <canvas id="grid" width="750" height="500" style="border:1px solid black;"></canvas>
            </div>
          </div>
          <div class="col-lg-9 col-xl-3">
            <div class="accordion" id="info">

              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button
                    class="accordion-button"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#legend"
                    aria-expanded="true"
                    aria-controls="legend">
                    Legend
                  </button>
                </h2>
                <div id="legend" class="accordion-collapse collapse show" aria-labelledby="legend" data-bs-parent="#info">
                  <div class="accordion-body">
                    <ul class="text-light lead p-0" style="list-style-type: none;">
                      <li class="text-dark p-2" style="background-color: #ecf0f1;">
                        Path
                      </li>
                      <li class="p-2" style="background-color: #2c3e50;">
                        Wall
                      </li>
                      <li class="p-2" style="background-color: #27ae60;">
                        Start Cell
                      </li>
                      <li class="p-2" style="background-color: #c0392b;">
                        End Cell
                      </li>
                      <li class="p-2" style="background-color: #2980b9;">
                        Observed
                      </li>
                      <li class="p-2" style="background-color: #5dade2;">
                        Queued
                      </li>
                      <li class="p-2" style="background-color: #f39c12;">
                        Path
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button
                    class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#how"
                    aria-expanded="false"
                    aria-controls="how">
                    How to Use
                  </button>
                </h2>
                <div id="how" class="accordion-collapse collapse" aria-labelledby="how" data-bs-parent="#info">
                  <div class="accordion-body">
                    <ul>
                      <li>
                        Left Clicking converts the hovered cell into a wall
                      </li>
                      <li>
                        Right Clicking converts the hovered cell into a path
                      </li>
                      <li>
                        Clicking and dragging also converts cells accordingly
                      </li>
                      <li>
                        S = Move the Start Node to the hovered cell
                      </li>
                      <li>
                        E = Move the End Node to the hovered cell
                      </li>
                      <li>
                        SPACE = start pathfinding
                      </li>
                      <li>
                        D = Toggle between adjacent and orthogonal movement
                      </li>
                      <li>
                        R = Clear search results
                      </li>
                      <li>
                        C = Clear the walls and search results
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button
                    class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#more"
                    aria-expanded="false"
                    aria-controls="more">
                    Algorithms Explained
                  </button>
                </h2>
                <div id="more" class="accordion-collapse collapse" aria-labelledby="more" data-bs-parent="#info">
                  <div class="accordion-body">
                    <p>
                      Graph traversal uses two lists: an <strong>open list</strong> (nodes to explore) and a <strong>closed list</strong> (nodes already explored). The open list starts with the start node. The algorithm repeatedly takes the next node from the open list, moves it to the closed list, and checks if itâ€™s the goal. If so, the path can be reconstructed using parent references. Otherwise, its neighbors are added to the open list. If the open list becomes empty, no path exists.
                    </p>
                    <p>
                      The difference between algorithms lies in how the next node is chosen:
                    </p>
                    <ul>
                      <li><strong>BFS</strong>: first-in, first-out (FIFO).</li>
                      <li><strong>DFS</strong>: last-in, first-out (LIFO).</li>
                      <li><strong>Greedy Best-First</strong>: chooses the node with the smallest estimated distance (<em>h-cost</em>) to the goal.</li>
                      <li><strong>A*</strong>: chooses the node with the lowest total cost (<em>f-cost = g-cost + h-cost</em>), combining distance traveled and estimated distance to the goal.</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-dark">
      <div class="container-lg p-2">
          <div class="text-center">
              <a href="/pages/terms.html" class="me-3">Terms of Use</a>
              <a href="/pages/privacy.html">Privacy Policy</a>
              <div class="text-light">&copy; 2025 Michael Grimsley. All rights reserved.</div>
          </div>
      </div>
  </footer>

  <script src="/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="https://pyscript.net/releases/2024.2.1/core.js"></script>
  <script src="/js/disable-space.js"></script>
  <py-script src="/app.py"></py-script>
  
</body>
</html>
